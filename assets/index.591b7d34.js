var oe=Object.defineProperty;var se=(n,t,i)=>t in n?oe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i;var y=(n,t,i)=>(se(n,typeof t!="symbol"?t+"":t,i),i);import{j as c,a as e,r as f,u as T,b as B,c as ce,L,N as k,i as O,F as N,S as P,n as le,d as G,e as M,G as de,f as he,l as ue,g as pe,B as me,h as fe,k as ge,A as ye,m as ve,o as be,p as z,q as H,s as we,t as Se,v as K,w as Ie,x as Ae,y as Ne,z as Q,C as ke,M as xe,D as Ce,Z as De,E as Le,P as Ee,O as Te,H as Be,I as Pe,R as Me,J as We}from"./vendor.ab748f24.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();function Ue(){return c("main",{id:"credits",children:[e("div",{className:"flex-spacer"}),c("article",{children:[e("h1",{children:"Credits"}),c("section",{children:[e("h2",{children:"Project Wranglers"}),c("dl",{children:[e("dt",{children:"Kaiama L. Glover"}),e("dd",{children:"Barnard College, Columbia University"}),e("dt",{children:"Alex Gil"}),e("dd",{children:"Columbia University Libraries"})]})]}),c("section",{children:[e("h2",{children:"Contributors"}),e("h3",{children:"Dus\xE9 Mohamed Ali"}),c("dl",{children:[e("dt",{children:"Marina Bilbija"}),e("dd",{children:"Williams College"})]}),e("h3",{children:"Kamau Brathwaite"}),c("dl",{children:[e("dt",{children:"Kelly Baker Josephs"}),e("dd",{children:"York College, CUNY"}),e("dt",{children:"Clara Pomi"}),e("dd",{children:"Williams College"})]}),e("h3",{children:"Aim\xE9 C\xE9saire"}),c("dl",{children:[e("dt",{children:"Alex Gil"}),e("dd",{children:"Columbia University"}),e("dt",{children:"Kora V\xE9ron Lebl\xE9"}),e("dd",{children:"Institut de Textes et Manuscrits, CNRS"})]}),e("h3",{children:"Maryse Cond\xE9"}),c("dl",{children:[e("dt",{children:"Soraya Limare"}),e("dd",{children:"Columbia University"})]}),e("h3",{children:"Ren\xE9 Depestre"}),c("dl",{children:[e("dt",{children:"Kaiama L. Glover"}),e("dd",{children:"Barnard College, Columbia University"})]}),e("h3",{children:"W.E.B. Du Bois"}),c("dl",{children:[e("dt",{children:"Roopika Risam"}),e("dd",{children:"Salem State University"})]}),e("h3",{children:"Katherine Dunham"}),c("dl",{children:[e("dt",{children:"Joanna Dee Das"}),e("dd",{children:"Washington University in St. Louis"}),e("dt",{children:"Laurent Dubois"}),e("dd",{children:"Duke University"})]}),e("h3",{children:"C.L.R. James"}),c("dl",{children:[e("dt",{children:"Amanda Perry"}),e("dd",{children:"Champlain College-Saint Lambert"})]}),e("h3",{children:"Wifredo Lam"}),c("dl",{children:[e("dt",{children:"Tao Goffe"}),e("dd",{children:"Cornell University"})]}),e("h3",{children:"George Lamming"}),c("dl",{children:[e("dt",{children:"Amanda Perry"}),e("dd",{children:"Champlain College-Saint Lambert"})]}),e("h3",{children:"Claude McKay"}),c("dl",{children:[e("dt",{children:"Raphael Dalleo"}),e("dd",{children:"Bucknell University"})]}),e("h3",{children:"Eslanda Goode Robeson"}),c("dl",{children:[e("dt",{children:"Annette Joseph-Gabriel"}),e("dd",{children:"University of Michigan"})]})]}),c("section",{children:[e("h2",{children:"Designers"}),c("dl",{children:[e("dt",{children:"Buck Wanner"}),e("dd",{children:"Columbia University"}),e("dd",{children:"Visualization Design"}),e("dt",{children:"Emily Fuhrman"}),e("dd",{children:"Columbia University"}),e("dd",{children:"Visualization & Project Design"}),e("dt",{children:"Alyssa Van"}),e("dd",{children:"Stanford University"}),e("dd",{children:"Data Analyst"}),e("dt",{children:"Dean Irvine"}),e("dd",{children:"Agile Humanities Agency"}),e("dd",{children:"Project Consultant"}),e("dt",{children:"Bill Kennedy"}),e("dd",{children:"Agile Humanities Agency"}),e("dd",{children:"Visualization, UI/UX and Production Design"}),e("dd",{children:"System Design"})]})]}),c("section",{children:[e("h2",{children:"Developers"}),c("dl",{children:[e("dt",{children:"Rainer Simon"}),e("dd",{children:"Freelance software developer"})]}),c("dl",{children:[e("dt",{children:"Jamie Folsom"}),e("dt",{children:"Ben Silverman"}),e("dd",{children:"Performant Software"})]})]}),c("section",{children:[e("h2",{children:"Acknowledgements"}),c("p",{className:"acknowledgements",children:[e("strong",{children:"In the Same Boats"})," has received generous support from the Barnard College Digital Humanities Center, the Columbia University Graduate School of Arts and Sciences, the Duke University Forum for Scholars and Publics, the Schomburg Center for Research in Black Culture, the University of Virginia."]})]}),e("hr",{}),e("small",{children:"N.B. Affiliations listed on our credits page reflect the contributor's affiliation at the moment of their contribution."})]})]})}const je=()=>{var h,u;const[n,t]=f.exports.useState(!1),i=T().listAuthors(),{search:r,setFilter:a}=B(),o=((u=(h=r.args.filters)==null?void 0:h.find(d=>d.name==="authors"))==null?void 0:u.values)||[],l=d=>()=>{const m=o.includes(d)?o.filter(w=>w!==d):[...o,d];a({name:"authors",values:m})};return c("div",{className:"author-select",children:[c("h2",{children:[e("span",{children:"Select Authors"}),e("button",{className:"select-all",onClick:()=>{o.length<i.length?a({name:"authors",values:i.map(d=>d.id)}):a({name:"authors",values:[]})},children:o.length<i.length?e("span",{children:"Select all"}):e("span",{children:"Deselect all"})})]}),e("input",{id:"mobile-authorselect-toggle",name:"mobile-authorselect-toggle",type:"checkbox",checked:n,onChange:()=>{t(d=>!d)},"aria-hidden":"true"}),e("label",{htmlFor:"mobile-authorselect-toggle","aria-hidden":"true"}),e("ul",{children:i.map(d=>c("li",{children:[e("input",{type:"checkbox",id:`${d.id}-checkbox`,name:d.id,checked:o.includes(d.id),onChange:l(d.id)}),e("label",{htmlFor:`${d.id}-checkbox`,style:{"--color":`rgba(${d.color.join(",")})`},children:d.name})]},d.id))})]})};function ee(){const n=ce(),[t,i]=f.exports.useState(!1);return f.exports.useEffect(()=>{i(!1)},[n]),e("header",{children:c("nav",{children:[e("div",{className:"home",children:e(L,{to:"/",children:e("span",{children:"In The Same Boats"})})}),e("input",{id:"mobile-nav-toggle",name:"mobile-nav-toggle",type:"checkbox",checked:t,onChange:()=>{i(r=>!r)}}),e("label",{htmlFor:"mobile-nav-toggle",children:e("svg",{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:e("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})}),c("ul",{children:[e("li",{children:e(k,{to:"instructions",children:"Instructions"})}),e("li",{children:e(k,{to:"trajectories",children:"Trajectories"})}),e("li",{children:e(k,{to:"intersections",children:"Intersections"})}),e("li",{children:e(k,{to:"search",children:"Search"})}),e("li",{children:e(k,{to:"credits",children:"Credits"})})]})]})})}const Y=n=>{if(n.id)return n;if(n.id=n["@id"],delete n["@id"],!n.id)throw{message:"Missing node ID",node:n};return n},Re=(n,t)=>n.reduce((i,r)=>((i[r[t]]=i[r[t]]||[]).push(r),i),{}),te=n=>{const t=[...n];return t.sort((i,r)=>{const[a,o]=_(i),[l,s]=_(r),h=a<=l&&o<=s,u=l<=a&&s<=o;return h?-1:u?1:a<=l?-1:1}),t},Oe=(n,t)=>{const i=new Set(n.map(o=>o.id)),r=n.find(o=>{let l;return t.forEachLinkedNode(o.id,(s,h)=>{h.data.relation==="previous"&&(l=h.toId)},!0),!l||!i.has(l)}),a=(o,l=[o])=>{let s;return t.forEachLinkedNode(o.id,(h,u)=>{u.data.relation=="previous"&&u.toId===o.id&&(s=h.data)},!1),s?a(s,[...l,s]):l};return a(r).filter(o=>i.has(o.id))},Ve=(n,t)=>{const[i,r]=t;if(n.start&&n.end){const a=new Date(n.start.earliest||n.start.in),o=new Date(n.end.latest||n.end.in);return a>=new Date(i)&&o<=new Date(r)}else if(n.start){const a=new Date(n.start.earliest||n.start.in);return a>=new Date(i)&&a<=new Date(r)}else if(n.end){const a=new Date(n.end.latest||n.end.in);return a>=new Date(i)&&a<=new Date(r)}},Fe=(n,t)=>n.filter(i=>i.when.timespans.map(r=>Ve(r,t)).every(Boolean)),F=(n,t=null)=>{var r,a;if(!((r=n.when)!=null&&r.timespans)||n.when.timespans.length===0)return;const i=(a=n.when.timespans.find(o=>o.start))==null?void 0:a.start;return i?t?i[t]:i.in||i.earliest||i.latest:null},$=(n,t=null)=>{var r,a;if(!((r=n.when)!=null&&r.timespans)||n.when.timespans.length===0)return;const i=(a=n.when.timespans.find(o=>o.end))==null?void 0:a.end;return i?t?i[t]:i.in||i.latest||i.earliest:null},x=n=>{const t=F(n);return t?new Date(t):null},C=n=>{const t=$(n);return t?new Date(t):null},_=n=>{const t=x(n),i=C(n);if(t||i)return[t||i,i||t]},ne=n=>{const t=F(n),i=$(n);if(t&&i)return`${t} \u2013 ${i}`;if(t||i)return t||i},$e=n=>{const t=n.id,i=n.target[0].id,a=n.body.value.map((o,l)=>({...o,author:i,place:o.id,type:"waypoint",id:`${t}/wp/${l}`}));return te(a)},ie=(n,t)=>{var a;if(!((a=n.when)!=null&&a.timespans)||n.when.timespans.length===0)return;const i=x(n),r=C(n);if(i&&r)if(O(i,r))console.warn("Invalid time interval",i,"to",r);else return{waypoint:n,start:i,end:r,likelihood:3};else return Ge(n,t)},Ge=(n,t)=>{const i=x(n),r=C(n);if(i){const a=t.getNextWaypoint(n);if(a){const o=x(a)||C(a),l=!!F(a,"in");if(o)if(O(i,o))console.warn("Invalid time interval",i,"to",o);else return{waypoint:n,start:i,end:o,likelihood:l?2:1}}}else if(r){const a=t.getPreviousWaypoint(n);if(a){const o=C(a)||x(a),l=!!$(a,"in");if(o)if(O(o,r))console.warn("Invalid time interval",o,"to",r);else return{waypoint:n,start:o,end:r,likelihood:l?2:1}}}};const ze=n=>{var h;const{at:t}=n,i=T(),{search:r}=B(),a=t?(h=r.result)==null?void 0:h.items:null,o=a==null?void 0:a.reduce((u,d)=>{const{waypoints:m}=d;return[...u,...m.filter(w=>w.place===t.id)]},[]),l=o&&te(o),s=u=>{var d;return(d=ie(u,i))==null?void 0:d.likelihood};return e("div",{className:"intersection-details",children:t?c(N,{children:[e("h1",{children:t.properties.title}),e("ul",{children:l.map(u=>c("li",{className:`likelihood-${s(u)}`,children:[e("span",{className:"wp-author",children:i.getNode(u.author).name})," ",e("span",{className:"wp-interval",children:ne(u)})]},u.id))})]}):c(N,{children:[e("h1",{children:"Select a city"}),e("p",{children:"Enable authors in the left panel to find their possible points of intersection."}),e("p",{children:"As cities of intersection appear on the map, click on a city to see the dates and likelihood of each author's presence."})]})})},He=n=>{const{search:t,setSearchState:i}=B(),r=T();return f.exports.useEffect(()=>{var a,o,l,s;if(t.status===P.PENDING){const h=((o=(a=t.args.filters)==null?void 0:a.find(m=>m.name==="authors"))==null?void 0:o.values)||[],u=(s=(l=t.args.filters)==null?void 0:l.find(m=>m.name==="daterange"))==null?void 0:s.range,d=r.listItineraries(u).filter(m=>h.includes(m.author));i({args:t.args,status:P.OK,result:{total:d.length,items:d}})}},[t]),f.exports.useEffect(()=>{i({args:{},status:P.PENDING})},[r]),n.children};class Ke{constructor(){y(this,"init",(t,i,r)=>{this.graph.clear(),this.graph.beginUpdate();const a=t.map(Y),o=i.map(Y);[...a,...o].forEach(s=>{this.graph.addNode(s.id,s),this.fulltextIndex.add(s)});const l=r.reduce((s,h)=>[...s,...$e(h)],[]).filter(s=>{const h=this.exists(s.author,s.place);return h||console.warn("Skipping unconnected node",s),h});l.forEach(s=>{this.graph.addNode(s.id,s),this.fulltextIndex.add(s)}),l.forEach(s=>{const h=s.id,u=s.author;this.graph.addLink(h,u,{relation:"visitedBy"})}),l.forEach(s=>{const h=s.id,u=s.place;this.graph.addLink(h,u,{relation:"locatedAt"})}),l.reduce((s,h)=>{if(s&&s.author===h.author){const u=h.id,d=s.id;this.graph.addLink(u,d,{relation:"previous"})}return h},null),this.graph.endUpdate()});y(this,"exists",(...t)=>{if(t.length>0)return t.every(i=>this.getNode(i))});y(this,"listNodesWithProperty",(t,i)=>{const r=[];return this.graph.forEachNode(a=>{a.data[t]===i&&r.push(a.data)}),r});y(this,"getLinksOfType",(t,i)=>{const r=[];return this.graph.forEachLinkedNode(t,(a,o)=>{o.data.relation===i&&r.push(o)},!1),r});y(this,"getNode",t=>{var i;return(i=this.graph.getNode(t))==null?void 0:i.data});y(this,"listAuthors",()=>this.listNodesWithProperty("@type","Person"));y(this,"listPlaces",()=>this.listNodesWithProperty("type","Feature"));y(this,"listItineraries",t=>{const i=this.listNodesWithProperty("type","waypoint"),r=t?Fe(i,t):i,a=Re(r,"author");return Object.entries(a).map(([o,l])=>({author:o,waypoints:Oe(l,this.graph)}))});y(this,"getItineraryForAuthor",t=>this.getLinksOfType(t,"visitedBy").map(i=>this.getNode(i.fromId)));y(this,"getWaypointsAt",t=>this.getLinksOfType(t,"locatedAt").map(i=>this.getNode(i.fromId)));y(this,"getNextWaypoint",t=>{const r=this.getLinksOfType(t.id,"previous").find(a=>a.toId===t.id);return r&&this.getNode(r.fromId)});y(this,"getPreviousWaypoint",t=>{const r=this.getLinksOfType(t.id,"previous").find(a=>a.fromId===t.id);return r&&this.getNode(r.toId)});y(this,"search",t=>this.fulltextIndex.search(M.remove(t)).map(i=>i.item));this.graph=le(),this.fulltextIndex=new G([],{ignoreLocation:!0,threshold:.25,keys:["name","properties.title","citations.label","relation.label"],getFn:(t,i)=>{const r=G.config.getFn(t,i);if(Array.isArray(r))return r.map(M.remove);if(r)return M.remove(r)}})}}const Ye=n=>{const[t,i]=f.exports.useState();return f.exports.useEffect(()=>{const{authors:r,places:a,itineraries:o}=n;if(r&&a&&o){const l=new Ke;l.init(r,a,o),i(l)}},[n.authors,n.places,n.itineraries]),e(de.Provider,{value:t,children:t&&n.children})},_e=n=>e(Ye,{...n,children:e(He,{children:n.children})});class Je{constructor(t,i){y(this,"addOneItinerary",(t,i)=>{i.forEach(r=>{const a=ie(r,this.graph);if(a){const o=he(a);this.addToPresence(r.place,t,o,a.likelihood)}else console.warn("No interval for waypoint",r)})});y(this,"addToPresence",(t,i,r,a)=>{this.presence[t]||(this.presence[t]={}),r.forEach(o=>{this.presence[t][o]?this.presence[t][o].push({author:i,likelihood:a}):this.presence[t][o]=[{author:i,likelihood:a}]})});this.graph=i,this.presence=[],t.forEach(({author:r,waypoints:a})=>this.addOneItinerary(r,a))}}const qe=ue().domain([0,10]).range([6,36]),Xe=(n,t)=>{const{presence:i}=n;return Object.entries(i).map(([a,o])=>{const l=t.getNode(a),s=Object.entries(o).filter(([u,d])=>d.length<2?!1:new Set(d.map(w=>w.author)).size>1),h={};return s.length>0&&s.forEach(([,u])=>{u.forEach(({author:d,likelihood:m})=>{h[d]&&h[d].add(m),h[d]=new Set([m])})}),{...l,present:h}}).filter(a=>Object.keys(a.present).length>0)},W=(n,t)=>{let i=0;return Object.values(n.present).forEach(r=>{r.has(t)&&i++}),i},Ze=({selected:n})=>(t,i)=>{const r=new Je(t,i),a=Xe(r,i);return[1,2,3].map(o=>new pe({id:`scatterplot-${o}`,data:a,pickable:!0,opacity:.8,stroked:!0,filled:!0,radiusUnits:"pixels",lineWidthUnits:"pixels",getPosition:l=>l.geometry.coordinates,getRadius:l=>{let s=W(l,3);return o<3&&(s+=W(l,2)),o===1&&(s+=W(l,1)),qe(s)},getFillColor:l=>{let s=255;return o==2?s=.5*255:o==1&&(s=.25*255),(n==null?void 0:n.id)===l.id?[65,105,225,s]:[252,176,64,s]},getLineColor:l=>(n==null?void 0:n.id)===l.id?[0,0,0,144]:[200,100,0,144]}))};function Qe({onClick:n,visible:t}){return c(N,{children:[c("legend",{id:"intersection-legend",className:t?"visible":"hidden",children:[e("h2",{children:"Legend"}),e("button",{type:"button",onClick:n,"aria-label":"Click to collapse legend",children:e(me,{})}),e("p",{children:"Rings indicate possible intersections."}),c("svg",{viewBox:"-1 -1 14 14",xmlns:"http://www.w3.org/2000/svg",children:[e("title",{children:"A graphic of concentric rings representing possible intersections"}),e("circle",{className:"outer",cx:6,cy:6,r:6}),e("circle",{className:"middle",cx:6,cy:6,r:4}),e("circle",{className:"inner",cx:6,cy:6,r:2})]}),e("p",{children:"Solid circles indicate definite intersections."}),c("svg",{viewBox:"-1 -1 14 14",xmlns:"http://www.w3.org/2000/svg",children:[e("title",{children:"A graphic of a single solid circle representing a definite intersection"}),e("circle",{className:"inner",cx:6,cy:6,r:6})]})]}),e("button",{id:"expand-legend",className:"p6o-controls-btn",onClick:n,"aria-label":"Click to expand/collapse legend",children:e(fe,{})})]})}const J=6,et=22,tt=(n,t)=>{const i=[];for(let r=1;r<n.length;r++)i.push({from:t.getNode(n[r-1].place).geometry,to:t.getNode(n[r].place).geometry});return i};function nt(n,t){const i=[],r=new Set(n.map(a=>a.author));return n.forEach(({waypoints:a})=>{a.forEach(o=>{i.some(l=>l.id===o.place)||i.push(t.getNode(o.place))})}),i.map(a=>{const l=t.getWaypointsAt(a.id).filter(s=>r.has(s.author));return{...a,properties:{...a.properties,wpCount:l.length}}})}const it=()=>(n,t)=>{const i=nt(n,t),r=i.reduce((o,l)=>{const s=l.properties.wpCount;return o<s?s:o},0),a=(et-J)/(r-1);return[new ge({id:"trajectories-places",data:i,pickable:!0,filled:!0,stroked:!0,lineWidthUnits:"pixels",getLineColor:[252,176,64,220],getFillColor:[252,176,64,180],getPointRadius:o=>{const{wpCount:l}=o.properties;return a*(l-1)+J},pointRadiusUnits:"pixels",getLineWidth:2,pointType:"circle"}),...n.map(({author:o,waypoints:l})=>{const s=tt(l,t),{color:h}=t.getNode(o);return new ye({id:`${o}/trajectory`,data:s,pickable:!1,getWidth:1.5,widthMinPixels:1,getHeight:1,getTilt:10,greatCircle:!1,getSourcePosition:u=>u.from.coordinates,getTargetPosition:u=>u.to.coordinates,getSourceColor:h,getTargetColor:h})})]},rt=({object:n})=>{var t;return(t=n==null?void 0:n.properties)==null?void 0:t.title};function q(n,t){const i=f.exports.useRef();f.exports.useEffect(()=>{i.current=n},[n]),f.exports.useEffect(()=>{function r(){i.current()}if(t!==null){let a=setInterval(r,t);return()=>clearInterval(a)}},[t])}const V="yyyy-MM",E=n=>be(n,V),re=n=>Ie(new Date(`${n}-02T00:00:00`)),ae=n=>Ae(new Date(`${n}-02T00:00:00`)),b=n=>n.length===V.length&&we(n,V),X=(n,t)=>Se(re(n),ae(t)),U=E(new Date(1850,0,1)),j=E(ve());function at(){var g,S;const{search:n,setFilter:t}=B(),i=((S=(g=n.args.filters)==null?void 0:g.find(p=>p.name==="daterange"))==null?void 0:S.range)||[U,j],[r,a]=f.exports.useState({from:i[0],to:i[1]}),[o,l]=f.exports.useState(500),[s,h]=f.exports.useState(null);q(()=>{s&&u(s.chosenDate,s.increment)},s?o:null),q(()=>{o>10&&s&&l(o/2)},s?1e3:null),f.exports.useEffect(()=>{const{from:p,to:v}=r;p&&v&&b(p)&&b(v)&&X(p,v)&&t({name:"daterange",range:[p,v]})},[r]);function u(p,v){p.startsWith("start")?a(I=>{const A=K(re(I.from),v);return{from:E(A),to:I.to}}):p.startsWith("end")&&a(I=>{const A=K(ae(I.to),v);return{from:I.from,to:E(A)}})}function d(p){return v=>{u(v.currentTarget.name,p),h({chosenDate:v.currentTarget.name,increment:p})}}function m(){h(null),l(500)}function w(p){p.currentTarget.type==="text"&&(p.key==="ArrowUp"?u(p.currentTarget.name,1):p.key==="ArrowDown"&&u(p.currentTarget.name,-1))}function D(p){const{name:v,value:I}=p.target;v==="start-date"?a(A=>({from:I,to:A.to})):v==="end-date"&&a(A=>({from:A.from,to:I}))}return c("fieldset",{id:"month-range-input",children:[c("div",{children:[c("div",{className:"button-container",children:[e("button",{className:"up",disabled:!b(r.from),name:"start-up",onMouseDown:d(1),onMouseUp:m,children:e(z,{})}),e("button",{className:"down",disabled:!b(r.from),name:"start-down",onMouseDown:d(-1),onMouseUp:m,children:e(H,{})})]}),e("input",{type:"month",id:"start-date",name:"start-date",min:U,max:j,value:r.from,onChange:D,onKeyDown:b(r.from)?w:()=>{},className:b(r.from)?"":"invalid"}),"\u2013",e("input",{type:"month",id:"end-date",name:"end-date",min:U,max:j,value:r.to,onChange:D,onKeyDown:b(r.to)?w:()=>{},className:b(r.to)?"":"invalid"}),c("div",{className:"button-container",children:[e("button",{className:"up",disabled:!b(r.to),name:"end-up",onMouseDown:d(1),onMouseUp:m,children:e(z,{})}),e("button",{className:"down",disabled:!b(r.to),name:"end-down",onMouseDown:d(-1),onMouseUp:m,children:e(H,{})})]})]}),c("div",{children:[(!b(r.from)||!b(r.to))&&e("p",{className:"error",children:"Dates must be in the format YYYY-MM."}),!X(r.from,r.to)&&e("p",{className:"error",children:"Start date must be before or equal to end date."})]})]})}function ot(){const n=Ne();return c(N,{children:[e(ee,{}),e("main",{id:"error",children:c("article",{children:[e("h2",{children:`${n.status||500} ${n.statusText||"Internal Server Error"}`}),e("p",{children:"This page could not be displayed."})]})})]})}function st(){return c("main",{id:"home",children:[e("div",{className:"flex-spacer"}),c("article",{children:[e("h1",{children:"Welcome"}),c("aside",{children:[c("section",{className:"vis-info",children:[e("h2",{children:"Trajectories"}),e("p",{children:"This visualization presents an interactive narrative overview of one or more individuals' movements through space over time. The timeline function allows for the researcher to consider specific periods or phases, individually or in comparison with other figures."}),e(L,{className:"btn",to:"/trajectories",children:"View trajectories"})]}),c("section",{className:"vis-info",children:[e("h2",{children:"Intersections"}),e("p",{children:"This visualization presents an interactive snapshot overview of the world map that reflects the presence of Afro-Atlantic figures in particular geographical locations at particular points in time. Clicking on a given city which figures were present in that place and when they were there."}),e(L,{className:"btn",to:"/intersections",children:"View intersections"})]})]}),c("p",{children:[e("strong",{children:"In the Same Boats"})," is a work of multimodal scholarship designed to encourage the collaborative production of humanistic knowledge within scholarly communities. The platform comprises two interactive visualizations that trace the movements of significant cultural actors from the Caribbean and wider Americas, Africa, and Europe within the 20th century Afro-Atlantic world. It presents opportunities for unearthing the extent to which Caribbean, Latin American, African, European, and Afro-American intellectuals have been in both punctual and sustained conversation with one another: attending the same conferences, publishing in the same journals and presses, active in the same political groups, perhaps even elbow-to-elbow in the same Parisian caf\xE9s and on the same transatlantic crossings\u2014literally and metaphorically"," ",e("strong",{children:"in the same boats"}),"\u2014as they circulate throughout the Americas, Africa, Europe, and beyond."]}),e("p",{children:"One of the greatest challenges for postcolonial scholars of Africa and its diasporas is that of navigating nation-language frontiers that are the legacies of colonialism. The partitioning of the postcolonial into anglophone, francophone, hispanophone, and lusophone spaces persists\u2014despite being in so many ways at odds with the shared socio-cultural and historical realities of the Afro-Atlantic. Same Boats pushes back against the academic balkanization of black Atlantic intellectual production, retracing limits and contours largely determined by imperial metropoles."}),e("p",{children:"In presenting a series of individual maps produced on a common template by specialists of the different linguistic regions of the western Atlantic, Same Boats seeks to counter the Euro-lingual constraints and attendant border-drawing that too often keep Caribbeanist, Latin-Americanist, Africanist, Afro-Europeanist, and Afro-Americanist scholars from engaging in deeply transnational and transcolonial dialogue, hindering us from seeing connections or from fully imagining a networked Afro-intellectual world. Literally mapping the network of Afro-diasporic intellectual, political, and aesthetic figures in the 20th century, Same Boats offers visual corroboration of the work of scholars who have long committed to thinking about the Afro-Atlantic as an integrally networked chronotope. This platform aims to facilitate a physical tracing of hemispheric black studies\u2014to provide a point of departure from which to highlight the various sites wherein Afro-Atlantic intellectual traditions may have been born and/or shepherded into the world."}),e("p",{children:"The platform's visualizations sketch a \u201Cbig picture\u201D narrative of Black intellectual and artistic migration, revealing what were the potential points and periods of encounter (\u201CTrajectories\u201D). Upon drilling down into the maps' spatio-temporal intersections, specific nodes of confluence emerge, calling\u2014we hope\u2014for further scholarly exploration (\u201CIntersections\u201D). Indeed, Same Boats is meant to serve above all as an invitation for our community of researchers, students, and educators to flesh out and enrich the scholarly record toward the constitution of a 20th century Afro-Atlantic Republic of Arts and Letters."}),e("p",{children:e(L,{className:"btn",to:"instructions",children:"Learn how it works\u2026"})})]})]})}function ct(){return c("main",{id:"instructions",children:[e("div",{className:"flex-spacer"}),c("article",{children:[e("h1",{children:"Instructions"}),c("section",{children:[e("h2",{children:"Trajectories"}),e("p",{children:"This visualization presents an interactive narrative overview of one or more individuals\u2019 movements through space over time. The date range filter allows for the researcher to consider specific periods or phases. You can select figures individually or you can compare them to others by selecting them."}),c("ol",{children:[e("li",{children:"Select a range of time using the date range filter in the left column. You can click the up and down buttons to adjust the start and end date by month. You can also adjust the months by clicking on the text box containing each date and either typing the month and year, or using the up and down arrow keys on your keyboard. On certain browsers (Chrome, Edge) you may be able to click a calendar icon to choose each month and year on a calendar."}),e("li",{children:"Select one or more authors from the list in the left column."}),e("li",{children:"Once the map has been drawn, you can hover over any dot on the map to read a pop-up note about that particular moment in time for that particular author."})]})]}),c("section",{children:[e("h2",{children:"Intersections"}),e("p",{children:"This visualization presents an interactive snapshot overview of the world map that reflects the presence of Afro-Atlantic figures in particular geographical locations at particular points in time. Clicking on a given city reveals which figures were present in that place and when they were there. We have worked to preserve a sense of ambiguity when a range of time is not certain. This uncertainty is indicated via the transparent aura encircling each dot. The size of the aura indicates the level of ambiguity."}),c("ol",{children:[e("li",{children:"Select a range of time by clicking on the date range in the left column."}),e("li",{children:"Select one or more authors from the list in the left column."}),e("li",{children:"Select a dot on the map to see what figures were at that spot in the same time range."})]})]}),c("section",{children:[e("h2",{children:"Search"}),e("p",{children:"In our search page you can search for authors, dates, keywords and more. Simply type in your search terms in the search box to see the results."})]}),e("hr",{}),c("section",{children:[e("h2",{children:"Get on the Map"}),c("p",{children:["Same Boats is a fundamentally collaborative venture\u2014an invitation of sorts meant to provide our community with the opportunity to participate in the development of a unique platform and to imagine research projects and pedagogical initiatives that transgress the geo-political borders separating the various nations of the Americas. If you\u2019re interested in being a part of this project by proposing an additional figure or in working with one of our existing figures/editors, please contact us at"," ",e("a",{href:"mailto:thesameboats@gmail.com",children:"thesameboats@gmail.com"}),"."]})]})]})]})}function Z(){const{loaded:n}=Q(),t=localStorage.getItem("itsb-legend"),[i,r]=f.exports.useState(!t),a=()=>{r(d=>!d),t||localStorage.setItem("itsb-legend","hidden")},[o,l]=f.exports.useState(),s=ke("trajectories"),h=s?it():Ze({selected:o}),u=({object:d})=>l(d);return n&&c(N,{children:[c("aside",{id:"map-control",children:[e(at,{}),e(je,{})]}),c("main",{id:"map",children:[e(xe.MapLibreDeckGL,{mapStyle:"https://api.maptiler.com/maps/streets-v2-light/style.json?key=cqqmcLw28krG9Fl7V3kg",defaultBounds:[[-142,-52],[178,72]],layers:[h],tooltip:rt,onClick:s?null:u},s?"trajectories":"intersections"),e(Ce,{children:e(De,{})})]}),!s&&c(N,{children:[e("aside",{id:"intersection-details",children:e(ze,{at:o})}),e(Qe,{onClick:a,visible:i})]})]})}const lt=n=>{const{data:t,graph:i}=n;return e("div",{className:t.type,children:t.type==="waypoint"&&c("div",{className:"search-result",children:[e("h3",{className:"title",children:i.getNode(t.author).name}),c("h4",{className:"subhead",children:[t.title," ",c("span",{className:"time",children:["(",ne(t),")"]})]}),e("p",{className:"description",children:t.relation.label})]})})};const dt=3;function ht(){const{loaded:n}=Q(),t=T(),[i,r]=f.exports.useState([]);return n&&c("main",{id:"search",children:[e("div",{className:"flex-spacer"}),c("section",{className:"search-wrapper",children:[e("form",{action:"#",name:"search",onSubmit:o=>o.preventDefault(),children:e("input",{type:"text",placeholder:"Search authors, cities, notes and citations.",onChange:o=>{const{value:l}=o.target;if(l.length>dt){const s=t.search(l),h=s.filter(g=>g.type==="waypoint"),d=s.filter(g=>g["@type"]==="Person").reduce((g,S)=>[...g,...t.getItineraryForAuthor(S.id)],[]),w=s.filter(g=>g.type==="Feature").reduce((g,S)=>[...g,...t.getWaypointsAt(S.id)],[]),D=[...h,...d,...w].reduce((g,S)=>g.find(v=>v.id===S.id)?g:[...g,S],[]);r(D)}else r([])}})}),e("div",{id:"search-results",children:i.length===0?e("p",{children:"Begin typing above."}):e("ul",{children:i.map(o=>e("li",{children:e(lt,{data:o,graph:t})},o.id))})})]})]})}function ut(){const[n,t,i]=Le();return c(Ee,{children:[e(ee,{}),e("section",{id:"content-wrapper",children:e(_e,{authors:n.itemListElement,places:t.features,itineraries:i.first.items,children:e(Te,{context:{loaded:n&&t&&i}})})})]})}const R=n=>fetch(n).then(t=>t.json()),pt=async()=>await Promise.all([R("data/authors.json"),R("data/places.json"),R("data/itineraries.json")]),mt=Be([{element:e(ut,{}),errorElement:e(ot,{}),id:"root",loader:pt,path:"/",children:[{index:!0,element:e(st,{})},{path:"credits",element:e(Ue,{})},{path:"instructions",element:e(ct,{})},{path:"intersections",element:e(Z,{})},{path:"trajectories",element:e(Z,{})},{path:"search",element:e(ht,{})}]}]);Pe.createRoot(document.getElementById("app")).render(e(Me.StrictMode,{children:e(We,{router:mt})}));
